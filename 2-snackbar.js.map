{"version":3,"file":"2-snackbar.js","sources":["../src/js/2-snackbar.js"],"sourcesContent":["import iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\nimport '../css/2-snackbar.css';\n\nconst refs = {\n  formEl: document.querySelector('.form'),\n  delayField: document.querySelector('input[name=\"delay\"]'),\n  stateField: document.querySelectorAll('input[name=\"state\"]'),\n  formCreateButton: document.querySelector('button[type=\"submit\"]'),\n  formClearButton: document.querySelector('button[type=\"button\"]'),\n};\n\n// Вешаем слушатели события\nrefs.formEl.addEventListener('submit', onFormSubmit);\nrefs.delayField.addEventListener('input', checkFields);\nrefs.formClearButton.addEventListener('click', onformClearButton);\nrefs.stateField.forEach(radio => {\n  radio.addEventListener('change', checkFields);\n});\n\nfunction checkFields() {\n  const selectedRadio = document.querySelector('input[name=\"state\"]:checked');\n\n  if (selectedRadio && refs.delayField.value !== '') {\n    refs.formCreateButton.classList.add('isActive');\n    refs.formClearButton.classList.add('isActive');\n  } else {\n    refs.formCreateButton.classList.remove('isActive');\n    refs.formClearButton.classList.remove('isActive');\n  }\n}\n\nfunction onformClearButton() {\n  refs.formEl.reset();\n  refs.formCreateButton.classList.remove('isActive');\n  refs.formClearButton.classList.remove('isActive');\n}\n\n// Функция создания промиса в аргумены, которой передаём delay - время задержки setTimeout\nfunction makePromise(delay) {\n  const selectedRadio = document.querySelector('input[name=\"state\"]:checked');\n\n  return new Promise((res, rej) => {\n    setTimeout(() => {\n      if (selectedRadio.value === 'fulfilled') {\n        res(`✅ Fulfilled promise in ${delay}ms`);\n      } else {\n        rej(`❌ Rejected promise in ${delay}ms`);\n      }\n    }, delay);\n  });\n}\n\n// Функция - оброботчик слушателя события на форме\nfunction onFormSubmit(evt) {\n  evt.preventDefault();\n\n  // Вызов функции промиса\n  makePromise(Number(refs.delayField.value))\n    .then(message => {\n      iziToastOptions(\n        `✅ Fulfilled promise in ${refs.delayField.value}ms`,\n        'green'\n      );\n    })\n    .catch(message => {\n      iziToastOptions(\n        `❌ Rejected promise in ${refs.delayField.value}ms`,\n        'red'\n      );\n    })\n    .finally(() => {\n      refs.formEl.reset();\n      refs.formCreateButton.classList.remove('isActive');\n      refs.formClearButton.classList.remove('isActive');\n    });\n}\n\n// Опции подключенного через библиотеку alert\nfunction iziToastOptions(message, backgroundColor) {\n  return iziToast.show({\n    message,\n    messageColor: '#ffffff',\n    backgroundColor,\n    icon: 'fa-regular fa-circle-xmark',\n    iconColor: '#a22b2b',\n    position: 'topRight',\n  });\n}\n"],"names":["refs","onFormSubmit","checkFields","onformClearButton","radio","makePromise","delay","selectedRadio","res","rej","evt","message","iziToastOptions","backgroundColor","iziToast"],"mappings":"oGAIA,MAAMA,EAAO,CACX,OAAQ,SAAS,cAAc,OAAO,EACtC,WAAY,SAAS,cAAc,qBAAqB,EACxD,WAAY,SAAS,iBAAiB,qBAAqB,EAC3D,iBAAkB,SAAS,cAAc,uBAAuB,EAChE,gBAAiB,SAAS,cAAc,uBAAuB,CACjE,EAGAA,EAAK,OAAO,iBAAiB,SAAUC,CAAY,EACnDD,EAAK,WAAW,iBAAiB,QAASE,CAAW,EACrDF,EAAK,gBAAgB,iBAAiB,QAASG,CAAiB,EAChEH,EAAK,WAAW,QAAQI,GAAS,CAC/BA,EAAM,iBAAiB,SAAUF,CAAW,CAC9C,CAAC,EAED,SAASA,GAAc,CACC,SAAS,cAAc,6BAA6B,GAErDF,EAAK,WAAW,QAAU,IAC7CA,EAAK,iBAAiB,UAAU,IAAI,UAAU,EAC9CA,EAAK,gBAAgB,UAAU,IAAI,UAAU,IAE7CA,EAAK,iBAAiB,UAAU,OAAO,UAAU,EACjDA,EAAK,gBAAgB,UAAU,OAAO,UAAU,EAEpD,CAEA,SAASG,GAAoB,CAC3BH,EAAK,OAAO,QACZA,EAAK,iBAAiB,UAAU,OAAO,UAAU,EACjDA,EAAK,gBAAgB,UAAU,OAAO,UAAU,CAClD,CAGA,SAASK,EAAYC,EAAO,CAC1B,MAAMC,EAAgB,SAAS,cAAc,6BAA6B,EAE1E,OAAO,IAAI,QAAQ,CAACC,EAAKC,IAAQ,CAC/B,WAAW,IAAM,CACXF,EAAc,QAAU,YAC1BC,EAAI,0BAA0BF,CAAK,IAAI,EAEvCG,EAAI,yBAAyBH,CAAK,IAAI,CAEzC,EAAEA,CAAK,CACZ,CAAG,CACH,CAGA,SAASL,EAAaS,EAAK,CACzBA,EAAI,eAAc,EAGlBL,EAAY,OAAOL,EAAK,WAAW,KAAK,CAAC,EACtC,KAAKW,GAAW,CACfC,EACE,0BAA0BZ,EAAK,WAAW,KAAK,KAC/C,OACR,CACA,CAAK,EACA,MAAMW,GAAW,CAChBC,EACE,yBAAyBZ,EAAK,WAAW,KAAK,KAC9C,KACR,CACA,CAAK,EACA,QAAQ,IAAM,CACbA,EAAK,OAAO,QACZA,EAAK,iBAAiB,UAAU,OAAO,UAAU,EACjDA,EAAK,gBAAgB,UAAU,OAAO,UAAU,CACtD,CAAK,CACL,CAGA,SAASY,EAAgBD,EAASE,EAAiB,CACjD,OAAOC,EAAS,KAAK,CACnB,QAAAH,EACA,aAAc,UACd,gBAAAE,EACA,KAAM,6BACN,UAAW,UACX,SAAU,UACd,CAAG,CACH"}
import"./assets/modulepreload-polyfill-B5Qt9EMX.js";import{f as I,i as k}from"./assets/vendor-CDOM94Te.js";const t={dataInput:document.querySelector("#datetime-picker"),buttonStart:document.querySelector("[data-start]"),buttonClear:document.querySelector("[data-clear]"),fieldDays:document.querySelector("[data-days]"),fieldHours:document.querySelector("[data-hours]"),fieldMinutes:document.querySelector("[data-minutes]"),fieldSeconds:document.querySelector("[data-seconds]")},d="feedback-input-state",r="feedback-interval-state";let o,c,e;const D={dateFormat:"d-m-Y H:i",enableTime:!0,time_24hr:!0,defaultDate:new Date,minuteIncrement:1,onClose(a){a[0]<new Date?(t.buttonStart.classList.remove("isActive"),y()):(o=a[0],t.buttonStart.addEventListener("click",i),t.buttonStart.classList.add("isActive")),t.buttonClear.addEventListener("click",l),t.buttonClear.classList.add("isActive")}};function y(){return k.show({message:"Please choose a date in the future",messageColor:"#ffffff",backgroundColor:"#ff0000",icon:"fa-regular fa-circle-xmark",iconColor:"#a22b2b",position:"topRight"})}const v=I(t.dataInput,D),S=()=>{c=setInterval(()=>{e=m(o-new Date),t.fieldDays.textContent=n(e.days),t.fieldHours.textContent=n(e.hours),t.fieldMinutes.textContent=n(e.minutes),t.fieldSeconds.textContent=n(e.seconds),e.days<=0&&e.hours<=0&&e.minutes<=0&&e.seconds<=0&&(clearInterval(c),localStorage.removeItem(d),localStorage.removeItem(r),t.buttonStart.removeEventListener("click",s),t.buttonStart.textContent="Start",t.buttonStart.classList.remove("isActive"),t.dataInput.removeAttribute("disabled"),t.dataInput.classList.remove("inputDisabled"))},1e3)};x();setInterval(()=>{v.setDate(new Date,!0)},6e4);function i(){localStorage.setItem(d,o),localStorage.removeItem(r),t.buttonStart.removeEventListener("click",i),t.buttonClear.removeEventListener("click",l),t.buttonStart.addEventListener("click",s),t.buttonStart.textContent="Stop",t.buttonClear.classList.remove("isActive"),t.dataInput.setAttribute("disabled",!0),t.dataInput.classList.add("inputDisabled"),S()}function s(){localStorage.setItem(r,"true"),clearInterval(c),c=null,t.buttonStart.addEventListener("click",i),t.buttonClear.addEventListener("click",l),t.buttonStart.textContent="Start",t.buttonClear.classList.add("isActive"),t.dataInput.removeAttribute("disabled"),t.dataInput.classList.remove("inputDisabled")}function l(){o=null,v.setDate(new Date),localStorage.removeItem(d),localStorage.removeItem(r),t.buttonClear.removeEventListener("click",l),t.buttonStart.removeEventListener("click",i),t.buttonStart.removeEventListener("click",s),t.buttonClear.classList.remove("isActive"),t.buttonStart.classList.remove("isActive"),t.fieldDays.textContent=n("0"),t.fieldHours.textContent=n("0"),t.fieldMinutes.textContent=n("0"),t.fieldSeconds.textContent=n("0")}function x(){const a=localStorage.getItem(d),f=localStorage.getItem(r);if(a){const u=new Date(a);v.setDate(u),o=u,f!=="true"?(S(),t.buttonStart.addEventListener("click",s),t.buttonStart.textContent="Stop",t.dataInput.setAttribute("disabled",!0),t.dataInput.classList.add("inputDisabled"),e=m(o-new Date),t.fieldDays.textContent=n(e.days),t.fieldHours.textContent=n(e.hours),t.fieldMinutes.textContent=n(e.minutes),t.fieldSeconds.textContent=n(e.seconds)):(t.buttonStart.removeEventListener("click",s),t.buttonStart.addEventListener("click",i),t.buttonStart.textContent="Start",t.buttonClear.addEventListener("click",l),t.buttonClear.classList.add("isActive"),t.dataInput.removeAttribute("disabled"),t.dataInput.classList.remove("inputDisabled"),e=m(o-new Date),t.fieldDays.textContent=n(e.days),t.fieldHours.textContent=n(e.hours),t.fieldMinutes.textContent=n(e.minutes),t.fieldSeconds.textContent=n(e.seconds)),t.buttonStart.classList.add("isActive")}}function n(a){return String(a).padStart(2,"0")}function m(a){const b=Math.floor(a/864e5),C=Math.floor(a%864e5/36e5),p=Math.floor(a%864e5%36e5/6e4),L=Math.floor(a%864e5%36e5%6e4/1e3);return{days:b,hours:C,minutes:p,seconds:L}}
//# sourceMappingURL=1-timer.js.map

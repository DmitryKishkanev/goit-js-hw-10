{"version":3,"file":"3-color-switcher.js","sources":["../src/js/3-color-switcher.js"],"sourcesContent":["import '../css/3-color-switcher.css';\n\n// const refs = {\n//   buttonStart: document.querySelector('[data-start]'),\n//   buttonStop: document.querySelector('[ data-stop]'),\n//   bodyStyle: document.body.style,\n//   originalBgImage: 'url(\"../img/timer.jpg\")',\n// };\n\n// let intervalId;\n\n// refs.buttonStart.addEventListener('click', onStartClick);\n\n// const startInterval = () => {\n//   intervalId = setInterval(() => {\n//     refs.bodyStyle.backgroundImage = 'none';\n//     refs.bodyStyle.backgroundColor = getRandomHexColor();\n//   }, 1000);\n// };\n\n// if (!intervalId) {\n//   refs.buttonStart.classList.add('isActive');\n//   refs.bodyStyle.backgroundImage = refs.originalBgImage;\n// }\n\n// function onStartClick() {\n//   startInterval();\n\n//   refs.buttonStop.addEventListener('click', onStopClick);\n//   refs.buttonStart.removeEventListener('click', onStartClick);\n//   refs.buttonStart.setAttribute('disabled', true);\n//   refs.buttonStop.removeAttribute('disabled');\n//   refs.buttonStart.classList.remove('isActive');\n//   refs.buttonStop.classList.add('isActive');\n// }\n\n// function onStopClick() {\n//   clearInterval(intervalId);\n//   intervalId = null;\n\n//   refs.buttonStop.removeEventListener('click', onStopClick);\n//   refs.buttonStart.addEventListener('click', onStartClick);\n//   refs.buttonStart.removeAttribute('disabled');\n//   refs.buttonStop.setAttribute('disabled', true);\n//   refs.buttonStart.classList.add('isActive');\n//   refs.buttonStop.classList.remove('isActive');\n// }\n\n// function getRandomHexColor() {\n//   return `#${Math.floor(Math.random() * 16777215)\n//     .toString(16)\n//     .padStart(6, 0)}`;\n// }\n\nconst refs = {\n  buttonStart: document.querySelector('[data-start]'),\n  buttonClear: document.querySelector('[ data-clear]'),\n  bodyStyle: document.body.style,\n  originalBgImage: 'url(\"../img/timer.jpg\")',\n};\n\n// Переменные для хранения localStorage ключей\nconst STORAGE_COLOR_KEY = 'feedback-color-state';\nconst STORAGE_INTERVAL_KEY = 'feedback-interval-state';\n\n//Переменную для хранения setInterval\nlet intervalId;\n\n// Вешаем слушатель события на кнопку Start\nrefs.buttonStart.addEventListener('click', onStartClick);\n\n// Функция создания интервала\nconst startInterval = () => {\n  intervalId = setInterval(() => {\n    refs.bodyStyle.backgroundImage = 'none';\n\n    let preservedСolor = getRandomHexColor();\n    refs.bodyStyle.backgroundColor = preservedСolor;\n    localStorage.setItem(STORAGE_COLOR_KEY, preservedСolor);\n  }, 1000);\n};\n\n//Вызов функции возвращения данных из localStorage\npopulateColor();\n\n// Функция обработчика слушателя событий кнопки Start\nfunction onStartClick() {\n  //   localStorage.setItem(STORAGE_COLOR_KEY, preservedСolor);\n  localStorage.removeItem(STORAGE_INTERVAL_KEY);\n\n  refs.buttonStart.removeEventListener('click', onStartClick);\n  refs.buttonClear.removeEventListener('click', onClearClick);\n  refs.buttonStart.addEventListener('click', onStopClick);\n\n  refs.buttonStart.textContent = 'Stop';\n  refs.buttonClear.setAttribute('disabled', true);\n  refs.buttonClear.classList.remove('isActive');\n\n  startInterval();\n}\n\n// Функция обработчика слушателя событий кнопки Stop\nfunction onStopClick() {\n  localStorage.setItem(STORAGE_INTERVAL_KEY, 'true');\n\n  clearInterval(intervalId);\n  intervalId = null;\n\n  refs.buttonStart.removeEventListener('click', onStopClick);\n  refs.buttonStart.addEventListener('click', onStartClick);\n  refs.buttonClear.addEventListener('click', onClearClick);\n\n  refs.buttonStart.textContent = 'Start';\n  refs.buttonClear.removeAttribute('disabled');\n  refs.buttonClear.classList.add('isActive');\n}\n\n// Функция обработчика слушателя событий кнопки Clear\nfunction onClearClick() {\n  localStorage.removeItem(STORAGE_COLOR_KEY);\n  localStorage.removeItem(STORAGE_INTERVAL_KEY);\n\n  refs.buttonClear.setAttribute('disabled', true);\n  refs.buttonClear.classList.remove('isActive');\n\n  refs.bodyStyle.backgroundImage = refs.originalBgImage;\n}\n\n// Функция возвращения данных из localStorage\nfunction populateColor() {\n  const savedColor = localStorage.getItem(STORAGE_COLOR_KEY);\n  const intervalStopped = localStorage.getItem(STORAGE_INTERVAL_KEY);\n\n  if (savedColor) {\n    refs.bodyStyle.backgroundColor = savedColor;\n\n    if (intervalStopped !== 'true') {\n      startInterval();\n      refs.buttonStart.removeEventListener('click', onStartClick);\n      refs.buttonStart.addEventListener('click', onStopClick);\n      refs.buttonStart.textContent = 'Stop';\n    } else {\n      refs.buttonStart.removeEventListener('click', onStopClick);\n      refs.buttonStart.addEventListener('click', onStartClick);\n      refs.buttonStart.textContent = 'Start';\n      refs.buttonClear.addEventListener('click', onClearClick);\n      refs.buttonClear.classList.add('isActive');\n    }\n\n    refs.buttonStart.classList.add('isActive');\n  } else {\n    refs.buttonStart.classList.add('isActive');\n    refs.bodyStyle.backgroundImage = refs.originalBgImage;\n  }\n}\n\n// Функция генерации случайного цвета\nfunction getRandomHexColor() {\n  return `#${Math.floor(Math.random() * 16777215)\n    .toString(16)\n    .padStart(6, 0)}`;\n}\n"],"names":["refs","STORAGE_COLOR_KEY","STORAGE_INTERVAL_KEY","intervalId","onStartClick","startInterval","preservedСolor","getRandomHexColor","populateColor","onClearClick","onStopClick","savedColor","intervalStopped"],"mappings":"oDAsDA,MAAMA,EAAO,CACX,YAAa,SAAS,cAAc,cAAc,EAClD,YAAa,SAAS,cAAc,eAAe,EACnD,UAAW,SAAS,KAAK,MACzB,gBAAiB,yBACnB,EAGMC,EAAoB,uBACpBC,EAAuB,0BAG7B,IAAIC,EAGJH,EAAK,YAAY,iBAAiB,QAASI,CAAY,EAGvD,MAAMC,EAAgB,IAAM,CAC1BF,EAAa,YAAY,IAAM,CAC7BH,EAAK,UAAU,gBAAkB,OAEjC,IAAIM,EAAiBC,IACrBP,EAAK,UAAU,gBAAkBM,EACjC,aAAa,QAAQL,EAAmBK,CAAc,CACvD,EAAE,GAAI,CACT,EAGAE,IAGA,SAASJ,GAAe,CAEtB,aAAa,WAAWF,CAAoB,EAE5CF,EAAK,YAAY,oBAAoB,QAASI,CAAY,EAC1DJ,EAAK,YAAY,oBAAoB,QAASS,CAAY,EAC1DT,EAAK,YAAY,iBAAiB,QAASU,CAAW,EAEtDV,EAAK,YAAY,YAAc,OAC/BA,EAAK,YAAY,aAAa,WAAY,EAAI,EAC9CA,EAAK,YAAY,UAAU,OAAO,UAAU,EAE5CK,GACF,CAGA,SAASK,GAAc,CACrB,aAAa,QAAQR,EAAsB,MAAM,EAEjD,cAAcC,CAAU,EACxBA,EAAa,KAEbH,EAAK,YAAY,oBAAoB,QAASU,CAAW,EACzDV,EAAK,YAAY,iBAAiB,QAASI,CAAY,EACvDJ,EAAK,YAAY,iBAAiB,QAASS,CAAY,EAEvDT,EAAK,YAAY,YAAc,QAC/BA,EAAK,YAAY,gBAAgB,UAAU,EAC3CA,EAAK,YAAY,UAAU,IAAI,UAAU,CAC3C,CAGA,SAASS,GAAe,CACtB,aAAa,WAAWR,CAAiB,EACzC,aAAa,WAAWC,CAAoB,EAE5CF,EAAK,YAAY,aAAa,WAAY,EAAI,EAC9CA,EAAK,YAAY,UAAU,OAAO,UAAU,EAE5CA,EAAK,UAAU,gBAAkBA,EAAK,eACxC,CAGA,SAASQ,GAAgB,CACvB,MAAMG,EAAa,aAAa,QAAQV,CAAiB,EACnDW,EAAkB,aAAa,QAAQV,CAAoB,EAE7DS,GACFX,EAAK,UAAU,gBAAkBW,EAE7BC,IAAoB,QACtBP,IACAL,EAAK,YAAY,oBAAoB,QAASI,CAAY,EAC1DJ,EAAK,YAAY,iBAAiB,QAASU,CAAW,EACtDV,EAAK,YAAY,YAAc,SAE/BA,EAAK,YAAY,oBAAoB,QAASU,CAAW,EACzDV,EAAK,YAAY,iBAAiB,QAASI,CAAY,EACvDJ,EAAK,YAAY,YAAc,QAC/BA,EAAK,YAAY,iBAAiB,QAASS,CAAY,EACvDT,EAAK,YAAY,UAAU,IAAI,UAAU,GAG3CA,EAAK,YAAY,UAAU,IAAI,UAAU,IAEzCA,EAAK,YAAY,UAAU,IAAI,UAAU,EACzCA,EAAK,UAAU,gBAAkBA,EAAK,gBAE1C,CAGA,SAASO,GAAoB,CAC3B,MAAO,IAAI,KAAK,MAAM,KAAK,OAAQ,EAAG,QAAQ,EAC3C,SAAS,EAAE,EACX,SAAS,EAAG,CAAC,CAAC,EACnB"}